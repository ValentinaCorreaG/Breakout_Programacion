import pygame #nos permite importar la libreria de Pygame 

from pygame.locals import *

pygame.init()

#tamaños que tendra la pantalla

eje_x = 600
eje_y = 600

#metodo para definir el tamaño de la pantalla 

ventana = pygame.display.set_mode((eje_x, eje_y))

#nombre de la pantalla

pygame.display.set_caption('Breaking Meta Space')

#codigos de colores que utilizaremos

color_fondo = (0, 0, 0)
nivel1 = (126, 232, 150)
nivel2 = (255, 158, 62)
nivel3 = (255, 62, 62)
  
#numero de bloques que apareceran

columnas = 6
filas = 5

#clase para crear los rectangulos (obstaculos) del juego

class obstaculo ():
    def __init__(self):
        self.x = eje_x // columnas
        self.y = 50

    def crear (self):
       #vamos a guardar todos los bloques dentro de la lista "self.bloques"

        self.bloques = []
        
        #los bloques los guardaremos individualmente para poder actuar sobre cada uno y darle diferentes funciones
        
        bloques_individuales = []
        
        for fila in range(filas):
            
            bloque_filas = []
            
            #se define la posicion en x y en y de los rectangulos para crear cada obstaculo. 
            
            for columna in range(columnas):
                
                
                bloque_x = columna * self.x
                bloque_y = fila * self.y
                rect = pygame.Rect(bloque_x, bloque_y, self.x, self.y)
                
                #dependiendo de la fila en la que se encuentre el bloque el valor o la reaccion va a ser diferente
                
                if fila < 1:
                    valor = 3
                elif fila < 3:
                    valor = 2
                elif fila < 5:
                    valor = 1
                
                #en la primera lista vacia que creamos vamos a almacenar cada tipo de bloque, con los atributos rectangulo (obstaculo) y valor (color)
                
                bloques_individuales = [rect, valor]
                
                #unir con la funcion append los bloques que acabamos de crear a la lista anterior de las filas 
                bloque_filas.append(bloques_individuales)
            
            #con la funcion append vamos a compilar todos los bloques como un atributo del objeto
            self.bloques.append(bloque_filas)


    def dibujar (self):
        for fila in self.bloques:
            for bloque in fila:
                 #asignarle un color a cada bloque 
                 
                if bloque [1] == 3:
                    color_bloque = nivel3
                elif bloque [1] == 2:
                    color_bloque = nivel2
                elif bloque [1] == 1:
                    color_bloque = nivel1
                pygame.draw.rect(ventana, color_bloque, bloque[0])
                pygame.draw.rect(ventana, color_fondo, (bloque[0]), 2)



#crear obstaculos 

obstaculo = obstaculo ()
obstaculo.crear ()



run = True
while run:

    ventana.fill(color_fondo)

    #dibujar tablero
    obstaculo.dibujar ()


    for event in pygame.event.get():
        if event.type == pygame.QUIT:
            run = False


    pygame.display.update()

pygame.quit()

